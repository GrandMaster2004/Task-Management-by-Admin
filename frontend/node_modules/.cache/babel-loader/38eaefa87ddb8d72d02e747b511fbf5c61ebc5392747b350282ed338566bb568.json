{"ast":null,"code":"\"use client\";import{useState}from\"react\";import{AuthProvider,useAuth}from\"./context/AuthContext\";import{ThemeProvider}from\"./context/ThemeContext\";// Import ThemeProvider\nimport Dashboard from\"./components/Dashboard\";import AdminDashboard from\"./components/AdminDashboard\";import SubAdminDashboard from\"./components/SubAdminDashboard\";import Login from\"./components/Login\";import Register from\"./components/Register\";import ErrorNotification from\"./components/ErrorNotification\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AppContent=()=>{const{user,loading,isAdmin,isSubAdmin,isUser}=useAuth();const[isLoginMode,setIsLoginMode]=useState(true);const[error,setError]=useState(null);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-500 to-pink-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-white mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white text-lg\",children:\"Loading TaskFlow...\"})]})});}if(!user){return/*#__PURE__*/_jsx(_Fragment,{children:isLoginMode?/*#__PURE__*/_jsx(Login,{onToggleMode:()=>setIsLoginMode(false)}):/*#__PURE__*/_jsx(Register,{onToggleMode:()=>setIsLoginMode(true)})});}// Role-based dashboard routing\nconst renderDashboard=()=>{if(isAdmin()){return/*#__PURE__*/_jsx(AdminDashboard,{});}else if(isSubAdmin()){return/*#__PURE__*/_jsx(SubAdminDashboard,{});}else if(isUser()){return/*#__PURE__*/_jsx(Dashboard,{});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-800 mb-4\",children:\"Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Your role is not recognized. Please contact an administrator.\"})]})});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[renderDashboard(),error&&/*#__PURE__*/_jsx(ErrorNotification,{message:error,onClose:()=>setError(null)})]});};const App=()=>{return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsxs(ThemeProvider,{children:[\" \",/*#__PURE__*/_jsx(AppContent,{})]})});};export default App;","map":{"version":3,"names":["useState","AuthProvider","useAuth","ThemeProvider","Dashboard","AdminDashboard","SubAdminDashboard","Login","Register","ErrorNotification","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AppContent","user","loading","isAdmin","isSubAdmin","isUser","isLoginMode","setIsLoginMode","error","setError","className","children","onToggleMode","renderDashboard","message","onClose","App"],"sources":["C:/Users/gondy/OneDrive/Desktop/taskflow-frontend/frontend/src/App.js"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { AuthProvider, useAuth } from \"./context/AuthContext\";\nimport { ThemeProvider } from \"./context/ThemeContext\"; // Import ThemeProvider\nimport Dashboard from \"./components/Dashboard\";\nimport AdminDashboard from \"./components/AdminDashboard\";\nimport SubAdminDashboard from \"./components/SubAdminDashboard\";\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport ErrorNotification from \"./components/ErrorNotification\";\n\nconst AppContent = () => {\n  const { user, loading, isAdmin, isSubAdmin, isUser } = useAuth();\n  const [isLoginMode, setIsLoginMode] = useState(true);\n  const [error, setError] = useState(null);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-500 to-pink-500\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-white mx-auto mb-4\"></div>\n          <p className=\"text-white text-lg\">Loading TaskFlow...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return (\n      <>\n        {isLoginMode ? (\n          <Login onToggleMode={() => setIsLoginMode(false)} />\n        ) : (\n          <Register onToggleMode={() => setIsLoginMode(true)} />\n        )}\n      </>\n    );\n  }\n\n  // Role-based dashboard routing\n  const renderDashboard = () => {\n    if (isAdmin()) {\n      return <AdminDashboard />;\n    } else if (isSubAdmin()) {\n      return <SubAdminDashboard />;\n    } else if (isUser()) {\n      return <Dashboard />;\n    } else {\n      return (\n        <div className=\"min-h-screen flex items-center justify-center\">\n          <div className=\"text-center\">\n            <h1 className=\"text-2xl font-bold text-gray-800 mb-4\">\n              Access Denied\n            </h1>\n            <p className=\"text-gray-600\">\n              Your role is not recognized. Please contact an administrator.\n            </p>\n          </div>\n        </div>\n      );\n    }\n  };\n\n  return (\n    <>\n      {renderDashboard()}\n      {error && (\n        <ErrorNotification message={error} onClose={() => setError(null)} />\n      )}\n    </>\n  );\n};\n\nconst App = () => {\n  return (\n    <AuthProvider>\n      <ThemeProvider>\n        {\" \"}\n        {/* Wrap AppContent with ThemeProvider */}\n        <AppContent />\n      </ThemeProvider>\n    </AuthProvider>\n  );\n};\n\nexport default App;\n"],"mappings":"AAAA,YAAY,CAEZ,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,YAAY,CAAEC,OAAO,KAAQ,uBAAuB,CAC7D,OAASC,aAAa,KAAQ,wBAAwB,CAAE;AACxD,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,cAAc,KAAM,6BAA6B,CACxD,MAAO,CAAAC,iBAAiB,KAAM,gCAAgC,CAC9D,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,iBAAiB,KAAM,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE/D,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAEC,IAAI,CAAEC,OAAO,CAAEC,OAAO,CAAEC,UAAU,CAAEC,MAAO,CAAC,CAAGnB,OAAO,CAAC,CAAC,CAChE,KAAM,CAACoB,WAAW,CAAEC,cAAc,CAAC,CAAGvB,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACwB,KAAK,CAAEC,QAAQ,CAAC,CAAGzB,QAAQ,CAAC,IAAI,CAAC,CAExC,GAAIkB,OAAO,CAAE,CACX,mBACEP,IAAA,QAAKe,SAAS,CAAC,6FAA6F,CAAAC,QAAA,cAC1Gd,KAAA,QAAKa,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BhB,IAAA,QAAKe,SAAS,CAAC,0EAA0E,CAAM,CAAC,cAChGf,IAAA,MAAGe,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,qBAAmB,CAAG,CAAC,EACtD,CAAC,CACH,CAAC,CAEV,CAEA,GAAI,CAACV,IAAI,CAAE,CACT,mBACEN,IAAA,CAAAI,SAAA,EAAAY,QAAA,CACGL,WAAW,cACVX,IAAA,CAACJ,KAAK,EAACqB,YAAY,CAAEA,CAAA,GAAML,cAAc,CAAC,KAAK,CAAE,CAAE,CAAC,cAEpDZ,IAAA,CAACH,QAAQ,EAACoB,YAAY,CAAEA,CAAA,GAAML,cAAc,CAAC,IAAI,CAAE,CAAE,CACtD,CACD,CAAC,CAEP,CAEA;AACA,KAAM,CAAAM,eAAe,CAAGA,CAAA,GAAM,CAC5B,GAAIV,OAAO,CAAC,CAAC,CAAE,CACb,mBAAOR,IAAA,CAACN,cAAc,GAAE,CAAC,CAC3B,CAAC,IAAM,IAAIe,UAAU,CAAC,CAAC,CAAE,CACvB,mBAAOT,IAAA,CAACL,iBAAiB,GAAE,CAAC,CAC9B,CAAC,IAAM,IAAIe,MAAM,CAAC,CAAC,CAAE,CACnB,mBAAOV,IAAA,CAACP,SAAS,GAAE,CAAC,CACtB,CAAC,IAAM,CACL,mBACEO,IAAA,QAAKe,SAAS,CAAC,+CAA+C,CAAAC,QAAA,cAC5Dd,KAAA,QAAKa,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BhB,IAAA,OAAIe,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,eAEtD,CAAI,CAAC,cACLhB,IAAA,MAAGe,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,+DAE7B,CAAG,CAAC,EACD,CAAC,CACH,CAAC,CAEV,CACF,CAAC,CAED,mBACEd,KAAA,CAAAE,SAAA,EAAAY,QAAA,EACGE,eAAe,CAAC,CAAC,CACjBL,KAAK,eACJb,IAAA,CAACF,iBAAiB,EAACqB,OAAO,CAAEN,KAAM,CAACO,OAAO,CAAEA,CAAA,GAAMN,QAAQ,CAAC,IAAI,CAAE,CAAE,CACpE,EACD,CAAC,CAEP,CAAC,CAED,KAAM,CAAAO,GAAG,CAAGA,CAAA,GAAM,CAChB,mBACErB,IAAA,CAACV,YAAY,EAAA0B,QAAA,cACXd,KAAA,CAACV,aAAa,EAAAwB,QAAA,EACX,GAAG,cAEJhB,IAAA,CAACK,UAAU,GAAE,CAAC,EACD,CAAC,CACJ,CAAC,CAEnB,CAAC,CAED,cAAe,CAAAgB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}